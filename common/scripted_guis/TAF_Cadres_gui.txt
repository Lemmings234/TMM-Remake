scripted_gui = {

	Cadres_GUI_OPENer = {
		context_type = player_context
		parent_window_token = politics_tab

		window_name = "Cadres_GUI_OPENer"

		visible = {
			tag = CSX
		}
		
		triggers = {
		    
		}
		
		effects = {
			Cadres_GUI_OPENer_Button_click = {
				if = {
					limit = { 
						has_country_flag = Cadres_GUI_visible_flag
					}
					clr_country_flag = Cadres_GUI_visible_flag
				}
				else = {
					set_country_flag = Cadres_GUI_visible_flag
				}
			}
		}
	}

	Cadres_GUI_Container = {
		context_type = player_context
		window_name = "Cadres_GUI_Container"

		visible = {
			tag = CSX 
			has_country_flag = Cadres_GUI_visible_flag
		}

		effects = {
			Close_button_click = {
				clr_country_flag = Cadres_GUI_visible_flag
			}
			Cadres_map_individual_button_click = {
				CSX = {
					set_variable = { CSX_acted_state = Cadres_map_idx }
					update_pie_chart = yes
					set_country_flag = Landre_GUI_visible
				}
			}
		}

		dynamic_lists = {
			Cadres_map_gridbox = {           ## 定义地图顺序
				array = Cadres_map
				index = Cadres_map_idx
				change_scope = no
				entry_container = Cadres_map_grid
			}
		}

		properties = {
            Cadres_map_individual_button = {
				image = [Cadres_map_individual_button]
				x = Cadres_map_x^Cadres_map_idx
				y = Cadres_map_y^Cadres_map_idx
			}
			
			Cadres_state_view = {
				image = [Cadres_state_view_icon]
			}

			Cadres_State_leader = {
				image = [Cadres_State_leader]
			}

			Cadres_State_Ideology = {
				image = [Cadres_State_Ideology]
			}
		}
		properties = {
            Cadres_education_bar1 = {
				frame = Cadres_education_bar_1^CSX_acted_state
			}
			Cadres_education_bar2 = {
				frame = Cadres_education_bar_2^CSX_acted_state
			}
			Cadres_education_bar3 = {
				frame = Cadres_education_bar_3^CSX_acted_state
			}
			Cadres_education_bar4 = {
				frame = Cadres_education_bar_4^CSX_acted_state
			}
			Cadres_education_bar5 = {
				frame = Cadres_education_bar_5^CSX_acted_state
			}
		}
		properties = {
            cadres_background_1_pie = { 
			    frame = background_1_pie_frame
		    }
	        cadres_background_2_pie = { 
			    frame = background_2_pie_frame
		    }
	        cadres_background_3_pie = { 
			    frame = background_3_pie_frame
	        }
		}
		properties = {
			cadres_party_mass_1_pie = { 
			    frame = party_mass_1_pie_frame
		    }
	        cadres_party_mass_2_pie = { 
			    frame = party_mass_2_pie_frame
		    }
	        cadres_party_mass_3_pie = { 
			    frame = party_mass_3_pie_frame
	        }
			cadres_party_mass_4_pie = { 
			    frame = party_mass_4_pie_frame
	        }
		}
	}

	## 土改GUI ##

	Landre_GUI_Container = {
		context_type = player_context

		window_name = "Landre_GUI_Container"

		visible = {
			tag = CSX
			has_country_flag = Landre_GUI_visible
		}

		effects = {
			Close_button_landre_click = {
				clr_country_flag = Landre_GUI_visible
			}
			Landre_map_Big_Arrow_individual_button_click = {
				set_country_flag = Landre_secondary_visible
			}
		}

		dynamic_lists = {
			Landre_map_Big_Arrow_gridbox = {           ## 定义大箭头
				array = Map_Big_Arrow_x
				index = Map_Big_Arrow_idx
				change_scope = no
				entry_container = Landre_map_Big_Arrow_grid
			}
		}

		properties = {
            Landre_map_Big_Arrow_individual_button = {
				image = [Landre_map_Big_Arrow_individual_button]
				x = Map_Big_Arrow_x^Map_Big_Arrow_idx
				y = Map_Big_Arrow_y^Map_Big_Arrow_idx
			}
        }

		triggers = {
			Landre_map_Big_Arrow_field_button_visible = {
				check_variable = {
					HM_field_harvest = 1
				}
			}
		}
	}

	Landre_Secondary_GUI = {
		context_type = player_context

		window_name = "Landre_Secondary_GUI_Container"

		visible = {
			tag = CSX
			has_country_flag = Landre_secondary_visible
		}
	}
}